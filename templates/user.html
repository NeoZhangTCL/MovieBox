{% extends "index.html" %}
{% block title %}Hello, {{ fullname }}{% endblock %}
{% block body %}

<h1>Info</h1>
<table>
    <thead>
        <tr>
            <th data-field="id">
                <input id="userID" type="submit" value="ID">
            </th>
            <th style="text-indent:3em" data-field="Name">
                <input id="userName" type="submit" value="Name">
            </th>
            <th style="text-indent:3em" data-field="Email">
                <input id="userEmail" type="submit" value="Date">
            </th>
            <th style="text-indent:3em" data-field="Sex">
                <input id="userSex" type="submit" value="Sex">
            </th>
        </tr>
    </thead>
    <tbody>
        <a href="#">
        <tr>
            <td>{{ profile.0.0 }}</td>
            <td style="text-indent:3em">{{ profile.0.1 + ' ' + profile.0.2}}</td>
            <td style="text-indent:3em">{{ profile.0.3 }}</td>
            <td style="text-indent:3em">{{ sex }}</td>
        </tr>
        </a>
    </tbody>
</table>
</br></br>
<h1>The showings you attend</h1>
<table>
    <thead>
        <tr>
            <th data-field="id">
                <form action="/<user>/id" method="post">
                    <input id="seenShowSortByID" type="submit" value="ID">
                </form>
            </th>
            <th style="text-indent:3em" data-field="movie">
                <form action="/<user>/name" method="post">
                    <input id="seenShowSortByName" type="submit" value="Movie">
                </form>
            </th>
            <th style="text-indent:3em" data-field="time">
                <form action="/<user>/date" method="post">
                    <input id="seenShowSortByDate" type="submit" value="Date">
                </form>
            </th>
            <th style="text-indent:3em" data-field="rating">
                <form action="/<user>/rating" method="post">
                    <input id="seenShowSortByName" type="submit" value="Rating">
                </form>
            </th>
        </tr>
    </thead>
    <tbody>
        {% for item in history %}
            <a href="#">
            <tr>
                <td>{{ item.0 }}</td>
                <td style="text-indent:3em">{{ item.1 }}</td>
                <td style="text-indent:3em">{{ item.2 }}</td>
                <td style="text-indent:3em">{{ item.3 }}</td>
            </tr>
            </a>
        {% endfor %}
    </tbody>
</table>
{% endblock %}



{% block operator %}

<span class="waves-light" data-toggle="modal" data-target="#modal-attend">
    <i class="fa fa-check" aria-hidden="true"></i>
    ATTEND</br>
</span>
<span class="waves-light" data-toggle="modal" data-target="#modal-rating">
    <i class="fa fa-star-half-o" aria-hidden="true"></i>
    RATING</br>
</span>


<!-- Modal Search -->
<div class="modal fade modal-ext" id="modal-search" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document" style="margin-top:120px;">
        <!--Content-->
        <div class="modal-content" style="color:black">
            <!--Body-->
            <form action="/showing/search" method="POST">
             <select name="genre">
               {% for tuple in genres %}
                 {% for genre in tuple %}
                   <option value={{genre}}>{{genre}}</option>
                 {% endfor %}
               {% endfor %}
             </select>
             <br><br>
             START DATE:
             <select name="startDate">
               {% for tuple in dates %}
                 {% for startDate in tuple %}
                   <option value={{startDate}}>{{startDate}}</option>
                 {% endfor %}
               {% endfor %}
             </select>
             END DATE:
             <select name="endDate">
               {% for tuple in dates %}
                 {% for endDate in tuple %}
                   <option value={{endDate}}>{{endDate}}</option>
                 {% endfor %}
               {% endfor %}
             </select>
             <br><br>
             Movie Name: <input type="text" name="movieName">
             <br><br>
              <input type="checkbox" name="available" value="seats"> Available<br>
             <input type="submit">
           </form>
        </div>
        <!--/.Content-->
    </div>
</div>


<!-- Modal Add -->
<div class="modal fade modal-ext" id="modal-attend" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document" style="margin-top:120px">
        <!--Content-->
        <div class="modal-content" style="color:black">
            <!--Body-->
            <form action="showing/addShow" method="post">
            <div class="modal-body">
                <div class="md-form">
                    <input type="text" id="movieName" class="form-control" name="movieName" value="{{request.form.movieName}}">
                    <label for="movieName">Movie Name</label>
                </div>
                <div class="md-form">
                    <input type="text" id="showingTime" class="form-control" name="showingTime" value="{{request.form.showingTime}}">
                    <label for="showingTime">Date & Time (YYYY-MM-DD HH:MM:SS)</label>
                </div>
                <div class="md-form">
                    <input type="text" id="showingRoom" class="form-control" name="showingRoom" value="{{request.form.showingRoom}}">
                    <label for="showingRoom">Room</label>
                </div>
                <div class="md-form">
                    <input type="text" id="showingPrice" class="form-control" name="showingPrice" value="{{request.form.showingPrice}}">
                    <label for="showingPrice">Price</label>
                </div>
                <div class="text-xs-center">
                    <button class="btn btn-unique" type="submit">ADD</button>
                </div>
            </div>
            </form>
        </div>
        <!--/.Content-->
    </div>
</div>

{% endblock %}
